{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Fabi\\\\Desktop\\\\Uni\\\\Master\\\\4. Semester\\\\MA\\\\WebGIS\\\\dashboard_client\\\\src\\\\components\\\\DistrictInfo.tsx\";\nimport React, { useEffect, useState } from 'react';\nimport Button from './Button';\nimport { proxyUrls } from '../utils/MapConfig';\n\nconst DistrictInfo = props => {\n  const [district, setDistrict] = useState(undefined);\n  const [fetched, setFetched] = useState(false);\n  const {\n    title,\n    fetchUrl,\n    defaultText\n  } = props;\n\n  function buttonClick() {\n    fetch(proxyUrls[4]).then(response => response.json()).then(data => {\n      const obj = data[0];\n      const values = Object.keys(obj).map(function (key) {\n        return obj[key];\n      });\n      console.log(values);\n    }).then(() => setFetched(true));\n  }\n\n  useEffect(() => {\n    let dropdown = document.createElement('select');\n    dropdown.length = 0;\n    let defaultOption = document.createElement('option');\n    defaultOption.text = defaultText;\n    dropdown.add(defaultOption);\n    dropdown.selectedIndex = 0;\n    document.getElementsByClassName('dropdown')[0].appendChild(dropdown);\n    const url = fetchUrl;\n    fetch(url).then(function (response) {\n      if (response.status !== 200) {\n        console.log('Status Code not 200: ' + response.status);\n        return;\n      }\n\n      response.json().then(function (data) {\n        let option;\n\n        for (let i = 0; i < data.length; i++) {\n          option = document.createElement('option');\n          option.text = data[i].stt_name;\n          option.value = data[i].stt_name;\n          dropdown.add(option);\n        }\n      });\n    }).catch(function (err) {\n      console.error(err);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, title), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dropdown\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    text: \"Stadtteildaten abrufen\",\n    clickButton: buttonClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }), fetched ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }, district) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }, \"Keine Daten.\"));\n};\n\nexport default DistrictInfo;","map":{"version":3,"sources":["C:/Users/Fabi/Desktop/Uni/Master/4. Semester/MA/WebGIS/dashboard_client/src/components/DistrictInfo.tsx"],"names":["React","useEffect","useState","Button","proxyUrls","DistrictInfo","props","district","setDistrict","undefined","fetched","setFetched","title","fetchUrl","defaultText","buttonClick","fetch","then","response","json","data","obj","values","Object","keys","map","key","console","log","dropdown","document","createElement","length","defaultOption","text","add","selectedIndex","getElementsByClassName","appendChild","url","status","option","i","stt_name","value","catch","err","error"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { IDistrictInfoProps } from '../types/types';\r\nimport Button from './Button'\r\nimport { proxyUrls } from '../utils/MapConfig';\r\n\r\nconst DistrictInfo = (props: IDistrictInfoProps) => {\r\n\r\n    const [district, setDistrict] = useState(undefined);\r\n    const [fetched, setFetched] = useState(false);\r\n\r\n    const {\r\n        title,\r\n        fetchUrl,\r\n        defaultText,\r\n    } = props\r\n\r\n    function buttonClick() {\r\n        fetch(proxyUrls[4])\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                const obj = data[0];\r\n                const values = Object.keys(obj).map(function (key) { return obj[key]; });\r\n                console.log(values)\r\n            })\r\n            .then(() => setFetched(true))\r\n    }\r\n\r\n    useEffect(() => {\r\n        let dropdown = document.createElement('select');\r\n        dropdown.length = 0;\r\n\r\n        let defaultOption = document.createElement('option');\r\n        defaultOption.text = defaultText;\r\n\r\n        dropdown.add(defaultOption);\r\n        dropdown.selectedIndex = 0;\r\n        document.getElementsByClassName('dropdown')[0].appendChild(dropdown);\r\n\r\n        const url = fetchUrl;\r\n\r\n        fetch(url)\r\n            .then(\r\n                function (response) {\r\n                    if (response.status !== 200) {\r\n                        console.log('Status Code not 200: ' +\r\n                            response.status);\r\n                        return;\r\n                    }\r\n\r\n                    response.json().then(function (data) {\r\n                        let option;\r\n\r\n                        for (let i = 0; i < data.length; i++) {\r\n                            option = document.createElement('option');\r\n                            option.text = data[i].stt_name;\r\n                            option.value = data[i].stt_name;\r\n                            dropdown.add(option);\r\n                        }\r\n                    });\r\n                }\r\n            )\r\n            .catch(function (err) {\r\n                console.error(err);\r\n            });\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            <p>{title}</p>\r\n            <div className='dropdown'></div>\r\n            <Button\r\n                text='Stadtteildaten abrufen'\r\n                clickButton={buttonClick}\r\n            />\r\n            {fetched ?\r\n                <p>{district}</p>\r\n                :\r\n                <p>Keine Daten.</p>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default DistrictInfo;"]},"metadata":{},"sourceType":"module"}